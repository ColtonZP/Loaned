(this.webpackJsonpowed=this.webpackJsonpowed||[]).push([[0],{16:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t(1),c=t.n(a),o=t(9),s=t.n(o),u=(t(16),t(5)),i=t(3),d=t(8),m=t(10),l=Object(m.a)((function(e){return{records:[],addPerson:function(n,t,r){var a={name:n,amount:"inc"===r?t:-t,history:[{amount:t,change:r,id:1}]};e((function(e){return{records:[].concat(Object(d.a)(e.records),[a])}}))},removePerson:function(n){e((function(e){return{records:e.records.filter((function(e){return e.name!==n}))}}))},updatePerson:function(n,t,r,a,c){e((function(e){return{records:e.records.map((function(e){return e.name===n?a?Object(i.a)(Object(i.a)({},e),{},{history:e.history.filter((function(e){return e.id!==c})),amount:"inc"===r?(Number(100*e.amount)-Number(100*t))/100:(Number(100*e.amount)+Number(100*t))/100}):Object(i.a)(Object(i.a)({},e),{},{history:[{amount:t,change:r,id:e.history[0].id+1}].concat(Object(d.a)(e.history)),amount:"inc"===r?(Number(100*e.amount)+Number(100*t))/100:(Number(100*e.amount)-Number(100*t))/100}):e}))}}))}}})),j=/ owe | owes | owed | took | borrowed | incurred | need | needs | needed /,b=/ paid | gave | provided | loaned | lent /,f=/ me | from | another | with | back /,p=/(?:[0-9],*)+(?:\.[0-9]{1,2})?|\.[0-9]{1,2}/,h=function(){var e=l((function(e){return{records:e.records,addPerson:e.addPerson,updatePerson:e.updatePerson}})),n=e.records,t=e.addPerson,c=e.updatePerson,o=Object(a.useState)(""),s=Object(u.a)(o,2),i=s[0],d=s[1];return Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r=function(e){var n,t,r,a=e.replace(f," ").trim();return r=function(){var e=a.match(j);return e?(a=a.replace(j,""),"inc"):(e=a.match(b))?(a=a.replace(b,""),"dec"):void 0}(),t=Number((a.match(p)||[])[0].replace(/[,]/g,"")),(a=a.replace(p,"").trim())[0].match(/[iI]/)&&("inc"===r?r="dec":"dec"===r&&(r="inc"),a=a.replace(/[iI]/,"")),n=a.toLowerCase(),r?n?t?{status:"passed",name:n,change:r,amount:t}:{status:"failed",reason:"amount"}:{status:"failed",reason:"name"}:{status:"failed",reason:"verb (ex. owes, paid, took, gave)"}}(i);"failed"===r.status?alert("a(n) "+r.reason+" appears to be missing."):r.name&&r.amount&&(n.find((function(e){return e.name===r.name}))?c(r.name,r.amount,r.change):t(r.name,r.amount,r.change)),d("")},children:[Object(r.jsx)("input",{className:"text-input",type:"text",value:i,onChange:function(e){return d(e.target.value)}}),Object(r.jsx)("div",{className:"placeholder"})]})},O=function(e){var n=e.value,t=l((function(e){return{updatePerson:e.updatePerson,removePerson:e.removePerson}})),c=t.updatePerson,o=t.removePerson,s=n.name,u=n.amount,i=n.history;return Object(a.useEffect)((function(){0===u&&o(s)}),[u,s,o]),Object(r.jsxs)("li",{className:"person",children:[Object(r.jsx)("span",{className:"name",children:s}),Object(r.jsx)("span",{className:"amount",children:u%1!==0?u.toFixed(2):u}),Object(r.jsxs)("ul",{className:"records",children:[Object(r.jsx)("button",{className:"removePerson",onClick:function(){return o(s)},children:"Remove person"}),i.map((function(e){var n=e.amount,t=e.change,a=e.id;return Object(r.jsxs)("li",{className:"record",children:[Object(r.jsx)("span",{className:t,children:"".concat("inc"===t?"+":"-").concat(n.toFixed(2))}),Object(r.jsx)("button",{onClick:function(){return c(s,n,t,!0,a)},children:"\u2715"})]},a)}))]})]})},v=function(){var e=l((function(e){return e.records}));return Object(r.jsx)("ul",{className:"people",children:e.map((function(e){return Object(r.jsx)(O,{value:e},e.name)}))})};var x=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsxs)("header",{children:[Object(r.jsx)("h1",{children:"Loaned"}),Object(r.jsx)(h,{})]}),Object(r.jsx)(v,{})]})};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(x,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.61faa435.chunk.js.map